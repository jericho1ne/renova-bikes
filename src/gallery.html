<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Refurbished and Used bikes in East Lansing">
	<meta name="author" content="Renova Bikes">

	<title>Renova Bikes Lansing - Sale List</title>

	 <!-- Bootstrap Core CSS -->
	<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom Fonts -->
	<link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css?family=Hind|Libre+Franklin|Oswald" rel="stylesheet">

	<!-- Theme CSS -->
	<link href="css/agency.min.css" rel="stylesheet">

	<!-- Renova Bikes Custom CSS -->
	<link href="css/main.css" rel="stylesheet">
	<link href="css/datatables.css" rel="stylesheet">
	
	<!-- Datatable required script files -->
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<!-- <script type="text/javascript" src="js/jquery.dataTables.min.js"></script> -->
	<script type="text/javascript" src="js/common.js"></script>
</head>

<body>
	<!-- Navigation -->
	<nav id="mainNav" class="navbar navbar-default navbar-custom navbar-fixed-top">
		<div class="container">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header page-scroll">
				<a class="navbar-brand" href="index.html">Go Back</a>
			</div>
		</div>
	</nav>
	<!-- Header -->
	<div class="container herotext pad-top-50">
		<div class="row intro-text">
			<div class="col-lg-12 text-center intro-heading">Featured Bikes</div>
			<!-- <div class="col-lg-12 text-center intro-lead-in">Complete Builds</div> -->
		</div>
	</div>
	
	<!-- Bike Fit -->
	<!-- <div class="container">
		<div class="row col-lg-12">
			<div class="col-md-6 text-center">
			
				Height 	
	
				<select id="height-dropdown" class="select-dropdown">
					
				</select>

			</div>
			<div class="col-md-6 text-center">
				Inseam (crotch to floor) 
				
				<select id="inseam-dropdown" class="select-dropdown">
				
				</select>
			</div>
		</div>
	</div> -->
	
	<!-- Bike Listings -->
	<div class="row">

		<div class="col-lg-12 text-center">
			<div class="container margin-top-20">
				<div id="template-temp" class="hidden"></div>
				<!-- data loads into div below -->
				<div id="bikes"></div>
			</div>
		</div>
	</div>

	<!-- Bootstrap Core JavaScript -->
  <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
	
	<!-- Bootstrap Theme JavaScript -->
  <script src="js/agency.min.js"></script>
</body>

<script>

var postData = {};

makeAjaxRequest(postData, 'POST', 'php/getBikeData.php')
	.then(function(response) {
		console.log(">>>> back to gallery.html");
		
		if (response.result) {
			// Clear target div and start filling it in w/ bikes
			$('#bikes').empty();
			var bikes = response.payload;

			// Append imcoing data to DOM (fields below)
			// 
			// 	 Make, Model, Year, Notes, Photos
			//   Color, Country, Display, Gearing
			//   Price, Size, Style, Use, Wheelsize
			//   
			console.log(bikes[0]);

			$('#template-temp').load('templates/portfolio-item.html', function() {
		
				for (var i = 0; i < bikes.length; i++) {
					// Create a unique element id to reference the element by
					var bikeId = 'bike-' + i;

					var bikeName = 
						bikes[i].Make + ' ' + 
						bikes[i].Model + 
						(bikes[i].Year ? ' (' + bikes[i].Year + ')' : '');

					var bikeSize = bikes[i].Size + 
						(bikes[i].Size ? ', ' + bikes[i].Use : '');

					$('#item-template')
						.clone()
						.removeClass('hidden')
						.attr('data-bikeid', i)
						.attr('id', bikeId)
						.appendTo('#bikes');

					// Change attributes of the most recent dynamically created element
					$('#bikes #' + bikeId).find('#bike-photo-main').attr('src', bikes[i].Photos[0]);

					$('#bikes #' + bikeId).find('.portfolio-caption .bike-name')
						.removeClass('loading')
						.html(bikeName);

					$('#bikes #' + bikeId).find('.portfolio-caption .bike-size')
						.removeClass('loading')
						.html(bikeSize);

					$('#bikes #' + bikeId).find('.portfolio-caption .bike-price')
						.removeClass('loading')
						.html(bikes[i].Price);


					
					// $bikeObject = $('<div>')
					// 	.addClass('fullsizeImage')
					// 	.attr('data-bikeid', i)
					// 	//.attr('data-color', cardColor)	// Color bar mapped to Category
					// 	//.addClass('w388 h240 relative thumbnail col-sm-12 col-md-6 col-lg-3');
					// 	.html(bikeName + '<hr>');
					// 	//.html('<img class="img-responsive center-img" src="images/' + imgArray[i] + '">');

						

					// $('#bikes').append($bikeObject);
				}


					
			});



		}	
		// Surface the error message
		else {
			$('#bikes').html(response.message);
		}

		// create temporary object to hold HTML elements
		var $bikeData = {};

		

	});

	
	

// console.log(tableData);
// console.log(headerRows);

// $(document).ready(function() {
// 	$('#bikesForSale').DataTable({
// 		"bPaginate": true,
// 		"pagingType": "simple",      // Prev and Next buttons only 
// 		"pageLength": 20,
// 		"initComplete": function () {
// 		},
// 		"lengthChange": false,
// 		//  "lengthMenu": [[10, 20, 40, -1], [10, 20, 40, "All"]],
// 		//"dom": '<"top"ifl<"clear">>rt<"bottom"p<"clear">>',
// 		// f=search, p=pagination
// 		"dom": '<"top"iflp>rt<"bottom"lp><"clear">',
		
// 		// Alternating row color
// 		"asStripeClasses": [ 'even-bgcolor', 'odd-bgcolor' ],

// 		"order": [[ 3, "desc" ]],
// 		"aoColumnDefs": [
// 			{ 'bSortable': true, 'aTargets': [ 1, 2, 3, 4 ] }
// 		],
// 		"autoWidth": false,
// 		"language": {
// 			//  "lengthMenu": "_MENU_ per pg",
// 			"sSearch": "search by any field",     // Search input box label
// 			"zeroRecords": "Nothing found.",
// 			"info": "",  // Default:  "Page _PAGE_ of _PAGES_",
// 			"infoEmpty": "No bikes available for sale",
// 			"infoFiltered": ""
// 		}
// 	});
// });
</script>

</html>


